<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="icon.png" type="image/png" />
  <title>Josh Parker</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <a href="#home" class="logo-link">
    </a>
    <h1>Josh Parker</h1>
    <nav>
      <a href="#home">Home</a>
      <a href="#about">About</a>
      <a href="#projects">Projects</a>
      <a href="#now">Now</a>
    </nav>
  </header>

  <main>
    <section id="home" class="page active fade-in">
      <h2>Welcome!</h2>
      <p>This is my personal site. I make music, write stories, and code in Python!</p>
    </section>

  <section id="now" class="page">
    <h2>What I'm Doing Now</h2>
    <p>This page is a reflection of what I'm currently focused on. Inspired by <a href="https://nownownow.com" target="_blank">nownownow.com</a>.</p>
    <ul>
      <li><strong>üéµ Music:</strong> Writing and producing original music ‚Äî lots of experimenting with percussion and electric recently. Fav Artists RN: TOP, Half-Alive, Raynes.</li>
      <li><strong>üßë‚Äçüíª Programming:</strong> This website, and anything that needs done for my CS class lol.</li>
      <li><strong>‚úçÔ∏è Writing:</strong> Expanding the Nexus storyline and worldbuilding across the <a href="projects">Echoverse</a>.</li>
      <li><strong>üìö Reading:</strong> Reading some more Star Wars: Legends, because I've collected way too many I haven't read.</li>
      <li><strong>üß† Learning:</strong> Trying to get better at backend coding, Joel usualy does that... Brushing up on my UI/UX design; it's been a minute.</li>
    </ul>
    <h2>Now Playing...</h2>
    <p>Check out what I'm currently listening to on Spotify:</p>
    <div id="spotify-widget">
      <img id="spotify-art" src="https://i.scdn.co/image/ab67616d0000b273aaa954ffc9e1e606c17bad8d" alt="Album Art" />
      <div id="spotify-info">
        <a id="spotify-track" href="#" target="_blank">Loading...</a>
        <p id="spotify-artist">Loading...</p>
      </div>
    </div>
    <p>&nbsp;</p>
    <p>This is a widget made to pull my data from a HTTP server that holds data from Spotify's API. It is a REAL TIME representation of what I am listening to RIGHT NOW. It should update once every 15 seconds.</p>
    <p>&nbsp;</p>
    <p><em>Last updated: August 16, 2025</em></p>
  </section>


    <section id="projects" class="page">
      <h2>Projects</h2>
      <ul>
        <li><strong>mDirt:</strong> A tool for easier Minecraft Datapack creation <a href="https://faith-and-code-technologies.github.io/mDirt/">View Here</a></li>
        <li><strong>Echoverse:</strong> A unvierse or stories spaning across thousands of years on multiple planets, writen with my cousin Joel! See <a href="https://thejupiterdev.github.io/#worlds" target="_blank">his website</a> for more.</li>
        <li><strong>Music Projects:</strong> <a href="https://www.youtube.com/@Josh-Makes-Music" target="_blank">YouTube Channel</a></li>
      </ul>
    </section>

    <section id="about" class="page">
      <h2>About</h2>
      <p>Hey there! I'm Josh Parker ‚Äî musician, coder, and storyteller.</p>
    </section>
  </main>

  <footer>
    <p>¬© 2025 Josh Parker. All rights reserved.</p>
  </footer>

  <script>
    console.log("üîç Debug: Starting nav/page logic setup...");

    const navLinks = document.querySelectorAll("nav a");
    const pages = document.querySelectorAll(".page");

    console.log("Nav links found:", navLinks.length);
    console.log("Page sections found:", pages.length);

    navLinks.forEach(link => {
      link.addEventListener("click", e => {
        console.log("üîó Nav clicked:", link.href);
        e.preventDefault();
        const target = link.getAttribute("data-page");
        console.log("Target data-page attribute:", target);

        pages.forEach(page => {
          page.classList.remove("active", "fade-in");
        });

        navLinks.forEach(nav => nav.classList.remove("active"));
        link.classList.add("active");

        const targetPage = document.getElementById(target);
        console.log("Target page element:", targetPage);
        if (targetPage) {
          targetPage.classList.add("active", "fade-in");
        } else {
          console.warn("‚ö†Ô∏è No page found with ID:", target);
        }
      });
    });
  </script>
  <script>
  console.log("üîç Debug: Starting nav hash/history logic...");

  const links = document.querySelectorAll("nav a");
  const sections = document.querySelectorAll(".page");

  function showSection(id) {
    console.log("üìÑ showSection called with id:", id);
    sections.forEach(sec => {
      sec.classList.remove("active", "fade-in");
    });
    const target = document.querySelector(id);
    console.log("Target section element:", target);
    if (target) {
      target.classList.add("active");
      setTimeout(() => target.classList.add("fade-in"), 10);
    } else {
      console.warn("‚ö†Ô∏è No section matched:", id);
    }

    links.forEach(link => {
      link.classList.toggle("active", link.getAttribute("href") === id);
    });
  }

  links.forEach(link => {
    link.addEventListener("click", e => {
      console.log("üîó Navigation click:", link.getAttribute("href"));
      e.preventDefault();
      const href = link.getAttribute("href");
      history.pushState(null, "", href);
      showSection(href);
    });
  });

  window.addEventListener("load", () => {
    const hash = location.hash || "#home";
    console.log("üìÇ Window load, hash:", hash);
    showSection(hash);
  });

  window.addEventListener("popstate", () => {
    console.log("üìÇ Popstate detected, hash:", location.hash);
    showSection(location.hash || "#home");
  });
</script>
<script src="spotify_url.js"></script>
<script>
async function updateSpotifyWidget() {
  const trackLink = document.getElementById('spotify-track');
  const artistText = document.getElementById('spotify-artist');
  const albumArt = document.getElementById('spotify-art');

  console.log("=== Spotify Widget Debug ===");
  console.log("Attempting to fetch:", SPOTIFY_JSON_URL);

  try {
    const response = await fetch(SPOTIFY_JSON_URL, {
      headers: {
        "ngrok-skip-browser-warning": "true"
      }
    });

    console.log("Fetch completed. Status:", response.status, response.statusText);
    console.log("Response headers:", [...response.headers.entries()]);

    if (!response.ok) throw new Error('Network response was not ok');

    const data = await response.json();
    console.log("JSON data received:", data);

    if (!data.track || !data.artist) {
      console.warn("No song currently playing");
      trackLink.textContent = "No song playing";
      trackLink.href = "#";
      artistText.textContent = "";
      albumArt.src = "";
      return;
    }

    console.log("Updating widget with song:", data.track, "by", data.artist);

    albumArt.src = data.cover_url || albumArt.src;
    trackLink.textContent = data.track;
    trackLink.href = data.url || "#";
    artistText.textContent = data.artist;

  } catch (err) {
    console.error("Spotify widget error:", err);
    trackLink.textContent = "Unable to load, server down?";
    trackLink.href = "#";
    artistText.textContent = "";
    albumArt.src = "";
  }

  console.log("=== End of Spotify Widget Debug ===");
}

updateSpotifyWidget();
setInterval(updateSpotifyWidget, 15000);
</script>


</body>
</html>
